<!DOCTYPE html>
<!-- saved from url=(0576)https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&nwo=nirupamaprv%2FAnalyze-AB-test-Results&path=Analyze_ab_test_results_notebook.ipynb&repository_id=114814720&repository_type=Repository#39a86403-2899-4f20-90dc-9b1211043dae -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Render</title>
  <meta name="referrer" content="never">
    <script src="./ipynb-0af7578295a2e6aa289c70ec5144846e.js"></script><link rel="stylesheet" href="./ipynb-cdc8a2c29b9e77afb5ead41e895d2850.css">


</head>
<body class="" data-render-url="https://render.githubusercontent.com" data-github-hostname="github.com" style="">
  <div class="render-shell js-render-shell" data-document-nwo="nirupamaprv/Analyze-AB-test-Results" data-document-commit="b664f3e9559184a05ad244b178d0a1b9fc7ccab8" data-document-path="Analyze_ab_test_results_notebook.ipynb" data-file="https://github-render.s3.amazonaws.com/prod/9f9561cdc4799627fc8546514d08a8b3-render.html?AWSAccessKeyId=AKIAJILR36AMCOMBK3MQ&amp;Signature=1tkS1zsP4Cyw/wdlVL179uY0UUA%3D&amp;Expires=1556323607" data-meta="https://github-render.s3.amazonaws.com/prod/9f9561cdc4799627fc8546514d08a8b3-meta.json?AWSAccessKeyId=AKIAJILR36AMCOMBK3MQ&amp;Signature=3bmcUkxo2VUkSPhnnsIDdqNEC98%3D&amp;Expires=1556323607">
    

<div class="render-info">
  <div class="js-viewer-health render-health is-viewer-good">
    <span class="symbol">⊖</span>
    <span class="js-message message">Everything running smoothly!</span>
  </div>
</div>

<div id="notebook" class="js-html">
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>Analyze A/B Test Results<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Analyze-A/B-Test-Results">¶</a>
</h2>
<p>This project will assure you have mastered the subjects covered in the statistics lessons.  The hope is to have this project be as comprehensive of these topics as possible.  Good luck!</p>
<h2>Table of Contents<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Table-of-Contents">¶</a>
</h2>
<ul>
<li><a href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#intro">Introduction</a></li>
<li><a href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#probability">Part I - Probability</a></li>
<li><a href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#ab_test">Part II - A/B Test</a></li>
<li><a href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#regression">Part III - Regression</a></li>
</ul>
<p><a></a></p>
<h3>Introduction<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Introduction">¶</a>
</h3>
<p>A/B tests are very commonly performed by data analysts and data scientists.  It is important that you get some practice working with the difficulties of these</p>
<p>For this project, you will be working to understand the results of an A/B test run by an e-commerce website.  Your goal is to work through this notebook to help the company understand if they should implement the new page, keep the old page, or perhaps run the experiment longer to make their decision.</p>
<p><strong>As you work through this notebook, follow along in the classroom and answer the corresponding quiz questions associated with each question.</strong> The labels for each classroom concept are provided for each question.  This will assure you are on the right track as you work through the project, and you can feel more confident in your final submission meeting the criteria.  As a final check, assure you meet all the criteria on the <a href="https://review.udacity.com/#!/projects/37e27304-ad47-4eb0-a1ab-8c12f60e43d0/rubric">RUBRIC</a>.</p>
<p><a></a></p>
<h4>Part I - Probability<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Part-I---Probability">¶</a>
</h4>
<p>To get started, let's import our libraries.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="c1">#We are setting the seed to assure that we get the same answers on quizzes as we set up</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>1.</code> Now, read in the <code>ab_data.csv</code> data. Store it in <code>df</code>.  <strong>Use your dataframe to answer the questions in Quiz 1 of the classroom.</strong></p>
<p>a. Read in the dataset and take a look at the top few rows here:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># read dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'ab_data.csv'</span><span class="p">)</span>

<span class="c1"># inspect dataset</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[2]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>user_id</th>
      <th>timestamp</th>
      <th>group</th>
      <th>landing_page</th>
      <th>converted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>851104</td>
      <td>2017-01-21 22:11:48.556739</td>
      <td>control</td>
      <td>old_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>804228</td>
      <td>2017-01-12 08:01:45.159739</td>
      <td>control</td>
      <td>old_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>661590</td>
      <td>2017-01-11 16:55:06.154213</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>853541</td>
      <td>2017-01-08 18:28:03.143765</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>864975</td>
      <td>2017-01-21 01:52:26.210827</td>
      <td>control</td>
      <td>old_page</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>b. Use the below cell to find the number of rows in the dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we use shape function to see number of rows [first element]</span>
<span class="n">row_num</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Number of rows is: </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row_num</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows is: 294478
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>c. The number of unique users in the dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#use unique() function</span>
<span class="n">user_total</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">nunique</span><span class="p">()[</span><span class="s1">'user_id'</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Number of unique users is : </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_total</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of unique users is : 290584
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>d. The proportion of users converted.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we can find proportion of users converted by taking mean since values are 1 and 0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Converted users proportion is </span><span class="si">{}</span><span class="s2">%"</span><span class="o">.</span><span class="n">format</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted users proportion is 11.96591935560551%
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># alternate method to find number of converted users </span>
<span class="nb">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">/</span><span class="n">row_num</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[6]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.11965919355605512</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>e. The number of times the <code>new_page</code> and <code>treatment</code> don't line up.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># rows where treatment group user lands incorrectly on old_page </span>
<span class="n">mismatch_grp1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'treatment' and landing_page == 'old_page'"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Times treatment group user lands incorrectly on old_page is </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mismatch_grp1</span><span class="p">)))</span>

<span class="c1"># rows where control group user incorrectly lands on new_page</span>
<span class="n">mismatch_grp2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'control' and landing_page == 'new_page'"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Times control group user incorrectly lands on new_page is </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mismatch_grp2</span><span class="p">)))</span>

<span class="c1">#  number of times the new_page and treatment don't line up is sum of above two values</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Times new_page and treatment don't line up is </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mismatch_grp1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">mismatch_grp2</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Times treatment group user lands incorrectly on old_page is 1965
Times control group user incorrectly lands on new_page is 1928
Times new_page and treatment don't line up is 3893
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>f. Do any of the rows have missing values?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we check number of values in each rows using info function</span>
<span class="c1"># entry values denote if any column has missing values</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 294478 entries, 0 to 294477
Data columns (total 5 columns):
user_id         294478 non-null int64
timestamp       294478 non-null object
group           294478 non-null object
landing_page    294478 non-null object
converted       294478 non-null int64
dtypes: int64(2), object(3)
memory usage: 11.2+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All seen from above figures, no values are missing.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>2.</code> For the rows where <strong>treatment</strong> is not aligned with <strong>new_page</strong> or <strong>control</strong> is not aligned with <strong>old_page</strong>, we cannot be sure if this row truly received the new or old page.  Use <strong>Quiz 2</strong> in the classroom to provide how we should handle these rows.</p>
<p>a. Now use the answer to the quiz to create a new dataset that meets the specifications from the quiz.  Store your new dataframe in <strong>df2</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Delete Rows</span>
<span class="c1"># drop rows for mismatched treatment groups</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'treatment' and landing_page == 'old_page'"</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># drop rows for mismatched control groups</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'control' and landing_page == 'new_page'"</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 290585 entries, 0 to 294477
Data columns (total 5 columns):
user_id         290585 non-null int64
timestamp       290585 non-null object
group           290585 non-null object
landing_page    290585 non-null object
converted       290585 non-null int64
dtypes: int64(2), object(3)
memory usage: 13.3+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># save new clean dataset which contains no duplicates or records with missing or mismatched values</span>
<span class="c1"># we will use this dataset in next sections</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'ab_edited.csv'</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># read newly created dataset into another dataframe</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'ab_edited.csv'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Double Check all of the correct rows were removed - this should be 0</span>
<span class="n">df2</span><span class="p">[((</span><span class="n">df2</span><span class="p">[</span><span class="s1">'group'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s1">'landing_page'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'new_page'</span><span class="p">))</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[13]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>3.</code> Use <strong>df2</strong> and the cells below to answer questions for <strong>Quiz3</strong> in the classroom.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># inspect df2</span>
<span class="n">df2</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 290585 entries, 0 to 290584
Data columns (total 5 columns):
user_id         290585 non-null int64
timestamp       290585 non-null object
group           290585 non-null object
landing_page    290585 non-null object
converted       290585 non-null int64
dtypes: int64(2), object(3)
memory usage: 11.1+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>a. How many unique <strong>user_id</strong>s are in <strong>df2</strong>?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># unique user ids count is</span>
<span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s1">'user_id'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>290584</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>b. There is one <strong>user_id</strong> repeated in <strong>df2</strong>.  What is it?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># check if duplicates in user_id</span>
<span class="c1"># we know that one user id is repeated due to difference between #userids and #unique ids</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s1">'user_id'</span><span class="p">]</span><span class="o">.</span><span class="n">duplicated</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[16]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># inspect duplicate userid</span>
<span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="o">.</span><span class="n">duplicated</span><span class="p">([</span><span class="s1">'user_id'</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)][</span><span class="s1">'user_id'</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[17]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>1876    773192
2862    773192
Name: user_id, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>c. What is the row information for the repeat <strong>user_id</strong>?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#investigate details of rows with duplicate user ids</span>
<span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="o">.</span><span class="n">duplicated</span><span class="p">([</span><span class="s1">'user_id'</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[18]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>user_id</th>
      <th>timestamp</th>
      <th>group</th>
      <th>landing_page</th>
      <th>converted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1876</th>
      <td>773192</td>
      <td>2017-01-09 05:37:58.781806</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2862</th>
      <td>773192</td>
      <td>2017-01-14 02:55:59.590927</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>d. Remove <strong>one</strong> of the rows with a duplicate <strong>user_id</strong>, but keep your dataframe as <strong>df2</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># delete duplicate record </span>
<span class="c1"># we choose one with timestamp as "2017-01-09 05:37:58.781806"</span>
<span class="n">time_dup</span> <span class="o">=</span> <span class="s2">"2017-01-09 05:37:58.781806"</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">!=</span> <span class="n">time_dup</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># inspect number of entries in df2 after deleting duplicate record</span>
<span class="n">df2</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 290584 entries, 0 to 290584
Data columns (total 5 columns):
user_id         290584 non-null int64
timestamp       290584 non-null object
group           290584 non-null object
landing_page    290584 non-null object
converted       290584 non-null int64
dtypes: int64(2), object(3)
memory usage: 13.3+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># as seen above, 290584 entries now as entry with index 1876 is deleted</span>
<span class="c1"># we can confirm by checking unique values of user ids</span>
<span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'user_id'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[21]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>290584</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>4.</code> Use <strong>df2</strong> in the below cells to answer the quiz questions related to <strong>Quiz 4</strong> in the classroom.</p>
<p>a. What is the probability of an individual converting regardless of the page they receive?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># since values are 1 and 0, we can calculate mean to get probability of an individual converting </span>
<span class="n">df</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[22]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.11959667567149027</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>b. Given that an individual was in the <code>control</code> group, what is the probability they converted?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># for this we group by column 'group'</span>
<span class="c1"># then we compute the statistics using describe function</span>
<span class="c1"># as conversions are assigned boolean values, we can use mean to find probability of conversion</span>

<span class="n">df_grp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'group'</span><span class="p">)</span>
<span class="n">df_grp</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[23]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="8">converted</th>
      <th colspan="8">user_id</th>
    </tr>
    <tr>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>group</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>control</th>
      <td>145274.0</td>
      <td>0.120386</td>
      <td>0.325414</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>145274.0</td>
      <td>788164.072594</td>
      <td>91287.914601</td>
      <td>630002.0</td>
      <td>709279.5</td>
      <td>788128.5</td>
      <td>867208.25</td>
      <td>945998.0</td>
    </tr>
    <tr>
      <th>treatment</th>
      <td>145311.0</td>
      <td>0.118807</td>
      <td>0.323563</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>145311.0</td>
      <td>787845.618446</td>
      <td>91161.258854</td>
      <td>630000.0</td>
      <td>708746.5</td>
      <td>787874.0</td>
      <td>866718.50</td>
      <td>945999.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Thus, given that an individual was in the <code>control</code> group, the probability they converted is 0.120386</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>c. Given that an individual was in the <code>treatment</code> group, what is the probability they converted?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Thus, given that an individual was in the <code>treatment</code> group, the probability they converted is 0.118807</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>d. What is the probability that an individual received the new page?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># number of individuals who got new page is same as those in treatment group</span>
<span class="n">new_user</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'treatment'"</span><span class="p">))</span>

<span class="c1"># calculate total number of users</span>
<span class="n">users</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># thus, probability that an individual received the new page is new_user/users</span>
<span class="n">new_user_p</span> <span class="o">=</span> <span class="n">new_user</span><span class="o">/</span><span class="n">users</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_user_p</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.5000636646764286
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>e. Use the results in the previous two portions of this question to suggest if you think there is evidence that one page leads to more conversions?  Write your response below.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Evidence that one page leads to more conversions?</strong></p>
<ul>
<li>Given that an individual was in the treatment group, the probability they converted is 0.118807</li>
<li>Given that an individual was in the control group, the probability they converted is 0.120386</li>
<li>We find that old page does better, but by a very tiny margin.</li>
<li>Change aversion, test span durations and other potentially influencing factors are not accounted for. So, we cannot state with certainty that one page leads to more conversions. This is even more important due to almost similar perforamnce of both pages.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a></a></p>
<h3>Part II - A/B Test<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Part-II---A/B-Test">¶</a>
</h3>
<p>Notice that because of the time stamp associated with each event, you could technically run a hypothesis test continuously as each observation was observed.</p>
<p>However, then the hard question is do you stop as soon as one page is considered significantly better than another or does it need to happen consistently for a certain amount of time?  How long do you run to render a decision that neither page is better than another?</p>
<p>These questions are the difficult parts associated with A/B tests in general.</p>
<p><code>1.</code> For now, consider you need to make the decision just based on all the data provided.  If you want to assume that the old page is better unless the new page proves to be definitely better at a Type I error rate of 5%, what should your null and alternative hypotheses be?  You can state your hypothesis in terms of words or in terms of <strong><img class="math math-inline" alt="$p_{old}$" src="./math"></strong> and <strong><img class="math math-inline" alt="$p_{new}$" src="./math(1)"></strong>, which are the converted rates for the old and new pages.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Hypothesis</strong></p>
<ul>
<li>
<img class="math math-inline" alt="$H_{0}$" src="./math(2)"> : <img class="math math-inline" alt="$p_{old}$" src="./math">  &gt;=  <img class="math math-inline" alt="$p_{new}$" src="./math(1)">
</li>
<li>
<img class="math math-inline" alt="$H_{1}$" src="./math(3)"> : <img class="math math-inline" alt="$p_{old}$" src="./math">  &lt;  <img class="math math-inline" alt="$p_{new}$" src="./math(1)">
</li>
</ul>
<h6>In other words,<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#In-other-words,">¶</a>
</h6>
<ul>
<li>
<img class="math math-inline" alt="$H_{0}$" src="./math(2)"> : <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> &lt;= <img class="math math-inline" alt="$p_{old}$" src="./math">  </li>
<li>
<img class="math math-inline" alt="$H_{1}$" src="./math(3)"> : <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> &gt; <img class="math math-inline" alt="$p_{old}$" src="./math"> </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>2.</code> Assume under the null hypothesis, <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> and <img class="math math-inline" alt="$p_{old}$" src="./math"> both have "true" success rates equal to the <strong>converted</strong> success rate regardless of page - that is <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> and <img class="math math-inline" alt="$p_{old}$" src="./math"> are equal. Furthermore, assume they are equal to the <strong>converted</strong> rate in <strong>ab_data.csv</strong> regardless of the page. <br><br></p>
<p>Use a sample size for each page equal to the ones in <strong>ab_data.csv</strong>.  <br><br></p>
<p>Perform the sampling distribution for the difference in <strong>converted</strong> between the two pages over 10,000 iterations of calculating an estimate from the null.  <br><br></p>
<p>Use the cells below to provide the necessary parts of this simulation.  If this doesn't make complete sense right now, don't worry - you are going to work through the problems below to complete this problem.  You can use <strong>Quiz 5</strong> in the classroom to make sure you are on the right track.<br><br></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>a. What is the <strong>convert rate</strong> for <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> under the null?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_new</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p_new</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.11959708724499628
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>b. What is the <strong>convert rate</strong> for <img class="math math-inline" alt="$p_{old}$" src="./math"> under the null? <br><br></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_old</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p_old</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.11959708724499628
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>c. What is <img class="math math-inline" alt="$n_{new}$" src="./math(4)">?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_new</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'treatment'"</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n_new</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>145310
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>d. What is <img class="math math-inline" alt="$n_{old}$" src="./math(5)">?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_old</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'control'"</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n_old</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>145274
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>e. Simulate <img class="math math-inline" alt="$n_{new}$" src="./math(4)"> transactions with a convert rate of <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> under the null.  Store these <img class="math math-inline" alt="$n_{new}$" src="./math(4)"> 1's and 0's in <strong>new_page_converted</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">new_page_converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">n_new</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="n">p_new</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p_new</span><span class="p">)])</span>
<span class="c1"># print(len(new_page_converted)) #code to check values</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>f. Simulate <img class="math math-inline" alt="$n_{old}$" src="./math(5)"> transactions with a convert rate of <img class="math math-inline" alt="$p_{old}$" src="./math"> under the null.  Store these <img class="math math-inline" alt="$n_{old}$" src="./math(5)"> 1's and 0's in <strong>old_page_converted</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">old_page_converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">n_old</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="n">p_old</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p_old</span><span class="p">)])</span>
<span class="c1"># print(len(old_page_converted))  #code to check values</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>g. Find <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> - <img class="math math-inline" alt="$p_{old}$" src="./math"> for your simulated values from part (e) and (f).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># since new_page_converted and old_page_converted have different sizes, we cannot directly compute p_diff</span>
<span class="c1"># since, differernce is only 36 values of thousands, we truncate the excess in new_page_converted</span>
<span class="n">new_page_converted</span> <span class="o">=</span> <span class="n">new_page_converted</span><span class="p">[:</span><span class="mi">145274</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_diff</span> <span class="o">=</span> <span class="p">(</span><span class="n">new_page_converted</span><span class="o">/</span><span class="n">n_new</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">old_page_converted</span><span class="o">/</span><span class="n">n_old</span><span class="p">)</span>
<span class="c1"># print(p_diff) #code to check values</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>h. Simulate 10,000 <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> - <img class="math math-inline" alt="$p_{old}$" src="./math"> values using this same process similarly to the one you calculated in parts <strong>a. through g.</strong> above.  Store all 10,000 values in <strong>p_diffs</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here, value of size is different for n_new and n_old. So, computing difference will throw an error. Hence, we use mean function for both old and new page conversion simulations to overcome this problem of shape difference. We are still using probabilities as previous case.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_diffs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
    <span class="n">new_page_converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">n_new</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="n">p_new</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p_new</span><span class="p">)])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">old_page_converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">n_old</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="n">p_old</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p_old</span><span class="p">)])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">new_page_converted</span> <span class="o">-</span> <span class="n">old_page_converted</span> 
    <span class="n">p_diffs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>i. Plot a histogram of the <strong>p_diffs</strong>.  Does this plot look like what you expected?  Use the matching problem in the classroom to assure you fully understand what was computed here.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">p_diffs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'p_diffs'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Frequency'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Plot of 10K simulated p_diffs'</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0A">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>j. What proportion of the <strong>p_diffs</strong> are greater than the actual difference observed in <strong>ab_data.csv</strong>?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># compute difference from original dataset ab_data.csv</span>
<span class="n">act_diff</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">'group'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span>  <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">'group'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">act_diff</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[35]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>-0.0015790565976871451</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_diffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">p_diffs</span><span class="p">)</span>
<span class="n">p_diffs</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[36]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>array([ -9.15656809e-05,   8.30529096e-04,   4.17623883e-04, ...,
        -9.79669080e-04,  -1.49568932e-03,   2.24847951e-03])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># proportion of p_diffs greater than the actual difference observed in ab_data.csv is computed as:</span>
<span class="p">(</span><span class="n">act_diff</span> <span class="o">&lt;</span> <span class="n">p_diffs</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[37]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.90290000000000004</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>k. In words, explain what you just computed in part <strong>j.</strong>.  What is this value called in scientific studies?  What does this value mean in terms of whether or not there is a difference between the new and old pages?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>
<strong>Answer:</strong><a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Answer:">¶</a>
</h2>
<ul>
<li>We are computing p-values here.</li>
<li>As explained in the videos and quizzes, this is the probability of observing our statistic (or one more extreme in favor of the alternative) if the null hypothesis is true.</li>
<li>The more extreme in favor of the alternative portion of this statement determines the shading associated with your p-value.</li>
<li>Here, we find that there is no conversion advantage with new pages. We conclude that null hypothesis is true as old and new pages perform almost similarly. Old pages, as the numbers show, performed slightly better.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>l. We could also use a built-in to achieve similar results.  Though using the built-in might be easier to code, the above portions are a walkthrough of the ideas that are critical to correctly thinking about statistical significance. Fill in the below to calculate the number of conversions for each page, as well as the number of individuals who received each page. Let <code>n_old</code> and <code>n_new</code> refer the the number of rows associated with the old page and new pages, respectively.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/nirupamaprv/anaconda3/lib/python3.6/site-packages/statsmodels/compat/pandas.py:56: FutureWarning: The pandas.core.datetools module is deprecated and will be removed in a future version. Please use the pandas.tseries module instead.
  from pandas.core import datetools
</pre>
</div>
</div>

<div class="output_area">
<div class="prompt output_prompt">Out[38]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>user_id</th>
      <th>timestamp</th>
      <th>group</th>
      <th>landing_page</th>
      <th>converted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>851104</td>
      <td>2017-01-21 22:11:48.556739</td>
      <td>control</td>
      <td>old_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>804228</td>
      <td>2017-01-12 08:01:45.159739</td>
      <td>control</td>
      <td>old_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>661590</td>
      <td>2017-01-11 16:55:06.154213</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>853541</td>
      <td>2017-01-08 18:28:03.143765</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>864975</td>
      <td>2017-01-21 01:52:26.210827</td>
      <td>control</td>
      <td>old_page</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_old</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'control'"</span><span class="p">)[</span><span class="s1">'converted'</span><span class="p">])</span>
<span class="n">convert_new</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'treatment'"</span><span class="p">)[</span><span class="s1">'converted'</span><span class="p">])</span>
<span class="n">n_old</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'control'"</span><span class="p">))</span>
<span class="n">n_new</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"group == 'treatment'"</span><span class="p">))</span>

<span class="c1">#print(convert_old, convert_new, n_old, n_new)  #code to test if values generated correctly</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>m. Now use <code>stats.proportions_ztest</code> to compute your test statistic and p-value.  <a href="http://knowledgetack.com/python/statsmodels/proportions_ztest/">Here</a> is a helpful link on using the built in.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">z_score</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">proportions_ztest</span><span class="p">([</span><span class="n">convert_old</span><span class="p">,</span> <span class="n">convert_new</span><span class="p">],</span> <span class="p">[</span><span class="n">n_old</span><span class="p">,</span> <span class="n">n_new</span><span class="p">],</span> <span class="n">alternative</span><span class="o">=</span><span class="s1">'smaller'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z_score</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1.31092419842 0.905058312759
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>n. What do the z-score and p-value you computed in the previous question mean for the conversion rates of the old and new pages?  Do they agree with the findings in parts <strong>j.</strong> and <strong>k.</strong>?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">norm</span>

<span class="nb">print</span><span class="p">(</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">z_score</span><span class="p">))</span>
<span class="c1"># Tells us how significant our z-score is</span>

<span class="c1"># for our single-sides test, assumed at 95% confidence level, we calculate: </span>
<span class="nb">print</span><span class="p">(</span><span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)))</span>
<span class="c1"># Tells us what our critical value at 95% confidence is </span>
<span class="c1"># Here, we take the 95% values as specified in PartII.1</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.905058312759
1.64485362695
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Answer:</strong></p>
<ul>
<li>We find that the z-score of 1.31092419842 is less than the critical value of 1.64485362695. So, we accept the null hypothesis.</li>
<li>As regards the conversion rates of the old and new pages, we find that old pages are only minutely better than new pages. </li>
<li>These values agree with the findings in parts j. and k. </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a></a></p>
<h3>Part III - A regression approach<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Part-III---A-regression-approach">¶</a>
</h3>
<p><code>1.</code> In this final part, you will see that the result you acheived in the previous A/B test can also be acheived by performing regression.<br><br></p>
<p>a. Since each row is either a conversion or no conversion, what type of regression should you be performing in this case?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Logistic Regression</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>b. The goal is to use <strong>statsmodels</strong> to fit the regression model you specified in part <strong>a.</strong> to see if there is a significant difference in conversion based on which page a customer receives.  However, you first need to create a colun for the intercept, and create a dummy variable column for which page each user received.  Add an <strong>intercept</strong> column, as well as an <strong>ab_page</strong> column, which is 1 when an individual receives the <strong>treatment</strong> and 0 if <strong>control</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">'intercept'</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">'control'</span><span class="p">,</span> <span class="s1">'treatment'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'group'</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>c. Use <strong>statsmodels</strong> to import your regression model.  Instantiate the model, and fit the model using the two columns you created in part <strong>b.</strong> to predict whether or not an individual converts.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="n">logit</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">],</span><span class="n">df</span><span class="p">[[</span><span class="s1">'intercept'</span><span class="p">,</span><span class="s1">'treatment'</span><span class="p">]])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>d. Provide the summary of your model below, and use it as necessary to answer the following questions.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">logit</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">results</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Optimization terminated successfully.
         Current function value: 0.366118
         Iterations 6
</pre>
</div>
</div>

<div class="output_area">
<div class="prompt output_prompt">Out[44]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<table class="simpletable">

<tbody><tr>
  <th>Dep. Variable:</th>     <td>converted</td>    <th>  No. Observations:  </th>   <td>290585</td>   
</tr>
<tr>
  <th>Model:</th>               <td>Logit</td>      <th>  Df Residuals:      </th>   <td>290583</td>   
</tr>
<tr>
  <th>Method:</th>               <td>MLE</td>       <th>  Df Model:          </th>   <td>     1</td>   
</tr>
<tr>
  <th>Date:</th>          <td>Tue, 12 Dec 2017</td> <th>  Pseudo R-squ.:     </th>  <td>8.085e-06</td> 
</tr>
<tr>
  <th>Time:</th>              <td>14:04:02</td>     <th>  Log-Likelihood:    </th> <td>-1.0639e+05</td>
</tr>
<tr>
  <th>converged:</th>           <td>True</td>       <th>  LL-Null:           </th> <td>-1.0639e+05</td>
</tr>
<tr>
  <th> </th>                      <td> </td>        <th>  LLR p-value:       </th>   <td>0.1897</td>   
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P&gt;|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>intercept</th> <td>   -1.9888</td> <td>    0.008</td> <td> -246.669</td> <td> 0.000</td> <td>   -2.005</td> <td>   -1.973</td>
</tr>
<tr>
  <th>treatment</th> <td>   -0.0150</td> <td>    0.011</td> <td>   -1.312</td> <td> 0.190</td> <td>   -0.037</td> <td>    0.007</td>
</tr>
</tbody></table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>e. What is the p-value associated with <strong>ab_page</strong>? Why does it differ from the value you found in the <strong>Part II</strong>?<br><br>  <strong>Hint</strong>: What are the null and alternative hypotheses associated with your regression model, and how do they compare to the null and alternative hypotheses in the <strong>Part II</strong>?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Answer:</strong></p>
<ul>
<li>Our hypothesis here is:</li>
<li>
<img class="math math-inline" alt="$H_{0}$" src="./math(2)"> : <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> - <img class="math math-inline" alt="$p_{old}$" src="./math">  = 0</li>
<li>
<img class="math math-inline" alt="$H_{1}$" src="./math(3)"> : <img class="math math-inline" alt="$p_{new}$" src="./math(1)"> - <img class="math math-inline" alt="$p_{old}$" src="./math">  != 0</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>f. Now, you are considering other things that might influence whether or not an individual converts.  Discuss why it is a good idea to consider other factors to add into your regression model.  Are there any disadvantages to adding additional terms into your regression model?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Answer:</strong></p>
<ul>
<li>We should consider other factors into the regression model as they might influence the conversions too. For instance student segments [new v/s returning candidates] might create change aversion or even, the opposite as a predisposition to conversion. Seasonality like new terms or New years might mean more interest in new skills/ resolutions. Timestamps are inlcuded but without regionality, they do not indicate if seasonality was a factor or not. [as different countries follow different term and weather patterns. </li>
<li>Factors like device on which tests were taken or course which was looked at, prior academic background, age, might alter experience and ultimately, conversions. These are limitations which should be at least kept in mind while making the final decision.</li>
<li>The disadvantages to adding additional terms into the regression model is that even with additional factors we can never account for all influencing factors or accomodate them. Plus, small pilots and pivots sometimes work better in practice than long-drawn research without execution. </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>g. Now along with testing if the conversion rate changes for different pages, also add an effect based on which country a user lives. You will need to read in the <strong>countries.csv</strong> dataset and merge together your datasets on the approporiate rows.  <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.join.html">Here</a> are the docs for joining tables.</p>
<p>Does it appear that country had an impact on conversion?  Don't forget to create dummy variables for these country columns - <strong>Hint: You will need two columns for the three dummy varaibles.</strong> Provide the statistical output as well as a written response to answer this question.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">countries_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'./countries.csv'</span><span class="p">)</span>
<span class="n">countries_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[45]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>user_id</th>
      <th>country</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>834778</td>
      <td>UK</td>
    </tr>
    <tr>
      <th>1</th>
      <td>928468</td>
      <td>US</td>
    </tr>
    <tr>
      <th>2</th>
      <td>822059</td>
      <td>UK</td>
    </tr>
    <tr>
      <th>3</th>
      <td>711597</td>
      <td>UK</td>
    </tr>
    <tr>
      <th>4</th>
      <td>710616</td>
      <td>UK</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_new</span> <span class="o">=</span> <span class="n">countries_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">),</span> <span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">)</span>
<span class="n">df_new</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[46]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>country</th>
      <th>timestamp</th>
      <th>group</th>
      <th>landing_page</th>
      <th>converted</th>
    </tr>
    <tr>
      <th>user_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>834778</th>
      <td>UK</td>
      <td>2017-01-14 23:08:43.304998</td>
      <td>control</td>
      <td>old_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>928468</th>
      <td>US</td>
      <td>2017-01-23 14:44:16.387854</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>822059</th>
      <td>UK</td>
      <td>2017-01-16 14:04:14.719771</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>1</td>
    </tr>
    <tr>
      <th>711597</th>
      <td>UK</td>
      <td>2017-01-22 03:14:24.763511</td>
      <td>control</td>
      <td>old_page</td>
      <td>0</td>
    </tr>
    <tr>
      <th>710616</th>
      <td>UK</td>
      <td>2017-01-16 13:14:44.000513</td>
      <td>treatment</td>
      <td>new_page</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_new</span><span class="p">[</span><span class="s1">'country'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[47]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>US    203619
UK     72466
CA     14499
Name: country, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">### Create the necessary dummy variables</span>
<span class="n">df_new</span><span class="p">[[</span><span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'US'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df_new</span><span class="p">[</span><span class="s1">'country'</span><span class="p">])[[</span><span class="s1">'CA'</span><span class="p">,</span><span class="s1">'US'</span><span class="p">]]</span>

<span class="n">df_new</span><span class="p">[</span><span class="s1">'country'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[48]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>US    203619
UK     72466
CA     14499
Name: country, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>h. Though you have now looked at the individual factors of country and page on conversion, we would now like to look at an interaction between page and country to see if there significant effects on conversion.  Create the necessary additional columns, and fit the new model.</p>
<p>Provide the summary results, and your conclusions based on the results.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">### Fit Your Linear Model And Obtain the Results</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'intercept'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>


<span class="n">log_mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">df_new</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">],</span> <span class="n">df_new</span><span class="p">[[</span><span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'US'</span><span class="p">]])</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">log_mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">results</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Optimization terminated successfully.
         Current function value: 0.447174
         Iterations 6
</pre>
</div>
</div>

<div class="output_area">
<div class="prompt output_prompt">Out[49]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<table class="simpletable">

<tbody><tr>
  <th>Dep. Variable:</th>     <td>converted</td>    <th>  No. Observations:  </th>   <td>290584</td>   
</tr>
<tr>
  <th>Model:</th>               <td>Logit</td>      <th>  Df Residuals:      </th>   <td>290582</td>   
</tr>
<tr>
  <th>Method:</th>               <td>MLE</td>       <th>  Df Model:          </th>   <td>     1</td>   
</tr>
<tr>
  <th>Date:</th>          <td>Tue, 12 Dec 2017</td> <th>  Pseudo R-squ.:     </th>   <td>-0.2214</td>  
</tr>
<tr>
  <th>Time:</th>              <td>14:04:05</td>     <th>  Log-Likelihood:    </th> <td>-1.2994e+05</td>
</tr>
<tr>
  <th>converged:</th>           <td>True</td>       <th>  LL-Null:           </th> <td>-1.0639e+05</td>
</tr>
<tr>
  <th> </th>                      <td> </td>        <th>  LLR p-value:       </th>   <td> 1.000</td>   
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
   <td></td>     <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P&gt;|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>CA</th> <td>   -2.0375</td> <td>    0.026</td> <td>  -78.364</td> <td> 0.000</td> <td>   -2.088</td> <td>   -1.987</td>
</tr>
<tr>
  <th>US</th> <td>   -1.9967</td> <td>    0.007</td> <td> -292.314</td> <td> 0.000</td> <td>   -2.010</td> <td>   -1.983</td>
</tr>
</tbody></table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[50]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>CA    0.130350
US    0.135779
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">1</span><span class="o">/</span><span class="n">_</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[51]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.00010001000100010001</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'group'</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span><span class="s1">'converted'</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[52]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>group
control      0.120386
treatment    0.118807
Name: converted, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>Conclusions from Regression:<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Conclusions-from-Regression:">¶</a>
</h3>
<ul>
<li>As in this logistic regression model too, we find that the values do not show a substantial difference in teh conversion rates for control group and treatment group.</li>
<li>This indicates that we can acceot the Null Hypothesis and keep the existing page as is.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a></a></p>
<h2>Conclusions<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Conclusions">¶</a>
</h2>
<ul>
<li>The performance of the old page was found better (by miniscule values only) as computed by different techniques.</li>
<li>Hence, we accept the Null Hypothesis and Reject the Alternate Hypothesis.</li>
<li>These inferences are strictly based on data on hand. This analysis acknowledges its limitations due to factors not included in the data. [see part III.f]</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>Resources<a class="anchor-link" href="https://render.githubusercontent.com/view/ipynb?commit=b664f3e9559184a05ad244b178d0a1b9fc7ccab8&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6e69727570616d617072762f416e616c797a652d41422d746573742d526573756c74732f623636346633653935353931383461303561643234346231373864306131623966633763636162382f416e616c797a655f61625f746573745f726573756c74735f6e6f7465626f6f6b2e6970796e62&amp;nwo=nirupamaprv%2FAnalyze-AB-test-Results&amp;path=Analyze_ab_test_results_notebook.ipynb&amp;repository_id=114814720&amp;repository_type=Repository#Resources">¶</a>
</h3>
<ul>
<li>Udacity Nanodegree Videos and Resources, including Links in this .ipynb</li>
<li><a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.duplicated.html">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.duplicated.html</a></li>
<li><a href="https://stackoverflow.com/questions/14657241/how-do-i-get-a-list-of-all-the-duplicate-items-using-pandas-in-python">https://stackoverflow.com/questions/14657241/how-do-i-get-a-list-of-all-the-duplicate-items-using-pandas-in-python</a></li>
<li><a href="https://stackoverflow.com/questions/18172851/deleting-dataframe-row-in-pandas-based-on-column-value">https://stackoverflow.com/questions/18172851/deleting-dataframe-row-in-pandas-based-on-column-value</a></li>
<li>
<a href="https://youtu.be/7FTp9JJ5DfE">https://youtu.be/7FTp9JJ5DfE</a> : Project Walkthrough Link on Slack's Project Thread</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

</div>
</div>
</div>

</div>
 

</div>

  </div>

  



</body></html>